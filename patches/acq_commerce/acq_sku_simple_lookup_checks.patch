diff --git a/docroot/modules/commerce/acq_commerce/modules/acq_sku/src/Plugin/AcquiaCommerce/SKUType/Configurable.php b/docroot/modules/commerce/acq_commerce/modules/acq_sku/src/Plugin/AcquiaCommerce/SKUType/Configurable.php
index f9c2cf16d..bc9c3f3cc 100644
--- a/docroot/modules/commerce/acq_commerce/modules/acq_sku/src/Plugin/AcquiaCommerce/SKUType/Configurable.php
+++ b/docroot/modules/commerce/acq_commerce/modules/acq_sku/src/Plugin/AcquiaCommerce/SKUType/Configurable.php
@@ -436,23 +436,28 @@ public static function recursiveConfigurableTree(array &$tree, array $available_
    *   Reference to SKU in existing tree.
    */
   public static function &findProductInTreeWithConfig(array &$tree, array $config) {
-    $child_skus = array_keys($tree['products']);
-    $query = \Drupal::database()->select('acq_sku_field_data', 'acq_sku');
+    if (isset($tree['products'])) {
+      $child_skus = array_keys($tree['products']);
+      $query = \Drupal::database()->select('acq_sku_field_data', 'acq_sku');
 
-    $query->addField('acq_sku', 'sku');
+      $query->addField('acq_sku', 'sku');
 
-    if (!empty($child_skus)) {
-      $query->condition('sku', $child_skus, 'IN');
-    }
+      if (!empty($child_skus)) {
+        $query->condition('sku', $child_skus, 'IN');
+      }
 
-    foreach ($config as $key => $value) {
-      $query->join('acq_sku__attributes', $key, "acq_sku.id = $key.entity_id");
-      $query->condition("$key.attributes_key", $key);
-      $query->condition("$key.attributes_value", $value);
-    }
+      foreach ($config as $key => $value) {
+        $query->join('acq_sku__attributes', $key, "acq_sku.id = $key.entity_id");
+        $query->condition("$key.attributes_key", $key);
+        $query->condition("$key.attributes_value", $value);
+      }
 
-    $sku = $query->execute()->fetchField();
-    return $tree['products'][$sku];
+      $sku = $query->execute()->fetchField();
+      return $tree['products'][$sku];
+    }
+    else {
+      return NULL;
+    }
   }
 
   /**
