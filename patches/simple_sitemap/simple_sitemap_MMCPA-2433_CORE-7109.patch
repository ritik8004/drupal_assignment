diff --git a/src/Simplesitemap.php b/src/Simplesitemap.php
index 307508f..eeebf1b 100644
--- a/src/Simplesitemap.php
+++ b/src/Simplesitemap.php
@@ -3,6 +3,7 @@
 namespace Drupal\simple_sitemap;
 
 use Drupal\Core\Database\Connection;
+use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\Path\PathValidator;
 use Drupal\Core\Config\ConfigFactory;
@@ -498,6 +499,11 @@ class Simplesitemap {
    */
   public function setEntityInstanceSettings($entity_type_id, $id, $settings) {
     $entity = $this->entityTypeManager->getStorage($entity_type_id)->load($id);
+
+    if (!$entity instanceof EntityInterface) {
+      return $this;
+    }
+
     $bundle_settings = $this->getBundleSettings(
       $entity_type_id, $this->entityHelper->getEntityInstanceBundleName($entity)
     );
diff --git a/src/SitemapGenerator.php b/src/SitemapGenerator.php
index aac9cb9..8d0ff21 100644
--- a/src/SitemapGenerator.php
+++ b/src/SitemapGenerator.php
@@ -227,8 +227,8 @@ class SitemapGenerator {
         foreach ($link['alternate_urls'] as $language_id => $alternate_url) {
           $this->writer->startElement('xhtml:link');
           $this->writer->writeAttribute('rel', 'alternate');
-          $this->writer->writeAttribute('hreflang', $language_id);
           $this->writer->writeAttribute('href', $alternate_url);
+          $this->writer->writeAttribute('hreflang', $language_id);
           $this->writer->endElement();
         }
       }
