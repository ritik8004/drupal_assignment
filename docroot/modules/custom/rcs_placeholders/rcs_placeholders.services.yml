services:
  rcs_placeholders.path_processor:
    class: Drupal\rcs_placeholders\Service\RcsPhPathProcessor
    tags:
      # PathProcessorAlias has priority 100. So if we do processing more late,
      # then the alias will not be available to us. Also priority of
      # LanguageNegotiationUrl processor is 300, which removes the langcode from
      # the url. So we need to keep priority between 100 and 300.
      - { name: 'path_processor_inbound', priority: 101 }
    arguments:
      - '@language_manager'
      - '@module_handler'
      - '@config.factory'
      - '@event_dispatcher'
      - '@request_stack'

  rcs_placeholders.entity_helper:
    class: Drupal\rcs_placeholders\Service\RcsPhEntityHelper
    arguments:
      - '@entity_type.manager'
      - '@config.factory'
      - '@renderer'

  rcs_placeholders.external_hreflang_get_url_event_subscriber:
    class: Drupal\rcs_placeholders\EventSubscriber\ExternalHreflangGetCurrentUrlEventSubscriber
    tags:
      - { name: 'event_subscriber' }

  rcs_placeholders.path_prefix_helper:
    class: Drupal\rcs_placeholders\Service\RcsPhPathPrefixHelper
    arguments:
      - '@config.factory'

  rcs_placeholders.enrichment_helper:
    class: Drupal\rcs_placeholders\Service\RcsPhEnrichmentHelper
    arguments:
      - '@entity_type.manager'

  rcs_placeholders.rcs_product_path_process_subscriber:
    class: \Drupal\rcs_placeholders\EventSubscriber\RcsPhProductPathProcessorEventSubscriber
    tags:
      - { name: 'event_subscriber' }
    arguments:
      - '@rcs_placeholders.enrichment_helper'
      - '@config.factory'

  rcs_placeholders.rcs_listing_path_process_subscriber:
    class: Drupal\rcs_placeholders\EventSubscriber\RcsPhListingPathProcessorEventSubscriber
    tags:
      - { name: 'event_subscriber' }
    arguments:
      - '@rcs_placeholders.enrichment_helper'
      - '@config.factory'

  rcs_placeholders.rcs_promotion_path_process_subscriber:
    class: \Drupal\rcs_placeholders\EventSubscriber\RcsPhPromotionPathProcessorEventSubscriber
    tags:
      - { name: 'event_subscriber' }
    arguments:
      - '@rcs_placeholders.enrichment_helper'
      - '@config.factory'

  rcs_placeholders.helper:
    class: \Drupal\rcs_placeholders\Service\RcsPhPlaceholderHelper
    arguments:
      - '@module_handler'
