services:
  alshaya_acm.add_to_cart_error_event:
    class: Drupal\alshaya_acm\EventSubscriber\AddToCartErrorEventSubscriber
    arguments: ['@logger.factory']
    tags:
      - { name: 'event_subscriber' }

  alshaya_acm.update_cart_error_event:
    class: Drupal\alshaya_acm\EventSubscriber\UpdateCartErrorEventSubscriber
    arguments: ['@logger.factory']
    tags:
      - { name: 'event_subscriber' }

  alshaya_acm.subscriber:
    class: Drupal\alshaya_acm\EventSubscriber\AlshayaAcmSubscriber
    arguments: ['@alshaya_acm.config_check']
    tags:
      - { name: event_subscriber }

  alshaya_acm.route_subscriber:
    class: Drupal\alshaya_acm\Routing\RouteSubscriber
    tags:
      - { name: event_subscriber }

  alshaya_acm.breadcrumb:
   class: Drupal\alshaya_acm\Breadcrumb\AlshayaACMBreadcrumbBuilder
   tags:
    - { name: breadcrumb_builder, priority: 100 }

  alshaya_acm.api_helper:
    class: Drupal\alshaya_acm\ApiHelper
    arguments: ['@acq_commerce.api', '@acq_cart.cart_storage', '@config.factory', '@cache.alshaya_api', '@language_manager', '@datetime.time']

  alshaya_acm.cart_helper:
    class: Drupal\alshaya_acm\CartHelper
    arguments:
      - '@acq_cart.cart_storage'

  alshaya_acm.config_check:
    class: Drupal\alshaya_acm\AlshayaAcmConfigCheck
    arguments: ['@config.factory', '@module_installer', '@module_handler', '@language_manager', '@datetime.time', '@state']

  cache.alshaya_api:
    class: Drupal\Core\Cache\CacheBackendInterface
    tags:
      - { name: cache.bin }
    factory: cache_factory:get
    arguments: [alshaya_api]

  alshaya_acm.cat_sync_clean_event:
      class: Drupal\alshaya_acm\EventSubscriber\AlshayaCatSyncCompleteEventSubscriber
      arguments: ['@logger.factory', '@entity_type.manager', '@database']
      tags:
        - { name: 'event_subscriber' }
