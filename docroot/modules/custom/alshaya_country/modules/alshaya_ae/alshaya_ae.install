<?php

/**
 * @file
 * Install file for alshaya_uae.
 */

 /**
  * Implements hook_update_N().
  */
function alshaya_ae_update_8003() {
  // Install Customer rights logo menu for UAE.
  alshaya_config_install_configs(['system.menu.customer-rights-logo'], 'alshaya_ae');

  // Install Customer rights logo block on whitelabel theme.
  alshaya_config_install_configs(['block.block.customerrightslogo'], 'alshaya_ae', 'optional');

  $current_theme = _alshaya_get_theme_by_theme_type('transac', ['alshaya_white_label']);
  if (!empty($current_theme)) {
    // If module not already installed, then install it and
    // Move customer rights logo block from whitelabel to current brand.
    if (!\Drupal::moduleHandler()->moduleExists('alshaya_block')) {
      \Drupal::service('module_installer')->install(['alshaya_block']);
    }
    alshaya_block_move_blocks_theme_to_theme($current_theme, 'alshaya_white_label');
  }
}

/**
 * Implements hook_update_N().
 *
 * Set 'en' as the default lang code for the users when visits site without any
 * lang code.
 */
function alshaya_ae_update_8002() {
  \Drupal::configFactory()->getEditable('alshaya_i18n.settings')->save();
}

/**
 * Implements hook_update_N().
 */
function alshaya_ae_update_8001() {
  // Store finder search placeholder for UAE.
  alshaya_country_set_default_store_search_placeholder('e.g. Dubai', 'مثل دبي');
}

/**
 * Implements hook_install().
 */
function alshaya_ae_install() {
  // Country code and timezone for UAE.
  alshaya_country_set_default_regional_info('AE');

  // Store finder search placeholder for UAE.
  alshaya_country_set_default_store_search_placeholder('e.g. Dubai', 'مثل دبي');
}
