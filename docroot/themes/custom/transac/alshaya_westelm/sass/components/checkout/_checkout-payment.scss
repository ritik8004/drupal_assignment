#payment_details {
  .cvv-help-text-wrapper {
    .cc_cvv_help_text {
      &::before {
        background: url('../imgs/cards/back-of-card.svg');
        width: 3.1875rem;
        height: 2.0625rem;
      }
    }

    .mobile-tooltip-icon {
      span.tooltip-content {
        p {
          &::before {
            background: url('../imgs/cards/back-of-card.svg');
            background-size: contain;
          }
        }
      }
    }
  }
}

.user-page.checkout-delivery.checkout-payment {
  .multistep-checkout {
    border-width: 1px;
    border-top: 1px solid $checkout_payment_form_border !important;
  }

  fieldset#edit-acm-payment-methods {
    > legend {
      display: block;
      padding: 1rem 1.5rem 2rem;

      span {
        font-weight: normal;
        font-size: 1rem;

        @include breakpoint($upto-desktop) {
          font-size: 0.875rem;
        }
      }

      @include breakpoint($only-mobile) {
        padding: 0.75rem 0;
      }
    }

    > .fieldset-wrapper {
      float: $left;
      width: 100%;
      padding: 0 1.5rem;

      @include breakpoint($only-mobile) {
        padding: 0;
      }
    }
  }

  #payment_details_wrapper {
    @include clearfix;

    border: 1px solid $checkout_payment_option_border;

    > .form-wrapper {
      .payment-plugin-wrapper-div {
        &.plugin-selected {
          .method-title {
            font-weight: normal;
          }
        }

        &::before {
          @include breakpoint($upto-desktop) {
            margin-#{$right}: 0;
          }
        }

        .payment-method-name {
          @include breakpoint($upto-desktop) {
            width: 90%;
          }
        }
      }

      &:first-child {
        .payment-plugin-wrapper-div {
          border-top: none;
        }
      }

      &:last-child {
        .payment-plugin-wrapper-div {
          border-bottom: none;
        }
      }
    }
  }

  #edit-checkout-terms {
    margin-top: 0 !important;

    @include breakpoint($only-mobile) {
      padding: 0.25rem 0;
    }
  }
}

#payment_method_cybersource {
  #payment_details {
    @include breakpoint($only-mobile) {
      padding: 1rem;
    }
  }

  .card-types-wrapper {
    .card-type {
      opacity: 0.3;
      background-size: 100% 100% !important;
      margin-#{$left}: 0.25rem;

      &.active {
        opacity: 1;
      }

      &.card-type-visa {
        background: url('../imgs/cards/visa-active.svg') no-repeat;
      }

      &.card-type-mastercard {
        background: url('../imgs/cards/mastercard-active.svg') no-repeat;
      }

      &.card-type-diners-club {
        background: url('../imgs/cards/dinersclub-active.svg') no-repeat;
      }
    }
  }
}

#edit-billing-address .fieldset-wrapper {
  @include breakpoint($only-mobile) {
    padding: 1.375rem 0;
  }
}

.cybersource-ajax-progress-throbber .cybersource-throbber {
  background: url($base_theme_loader_img_directory_path) center no-repeat;
  background-size: 5.5rem;
}

#edit-billing-address .mobile-input--wrapper {
  .prefix {
    line-height: 1.6;
  }

  .form-item-billing-address-address-billing-mobile-number-mobile {
    label.error {
      top: 2.75rem !important;
      z-index: 2;
    }
  }
}

.cybersource-global-error {
  @include breakpoint($tablet) {
    margin: 0 1.5rem;
  }
}

#payment_details_wrapper {
  > div:first-child {
    border-top: none;

    @include breakpoint($only-mobile) {
      border-top: none;
    }
  }
}

.checkout-payment {
  form.multistep-checkout {
    .messages__wrapper {
      @include breakpoint($tablet) {
        border-top: none;

        .messages {
          margin-top: 1rem;
        }

        + #edit-acm-payment-methods {
          #payment_details_wrapper {
            > div:first-child {
              border-top: none;
            }
          }
        }
      }
    }
  }
}
